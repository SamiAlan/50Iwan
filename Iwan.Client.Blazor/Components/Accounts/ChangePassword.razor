<EditForm Model="_passwordRequest" OnValidSubmit="ChangePasswordAsync">
    <FluentValidationValidator Validator="_changePasswordValidator" />
    <ServerValidation @ref="_serverValidator" />
    <MudCard>
        <MudCardHeader>
            <CardHeaderContent>
                <MudText>@Localize(LocalizeKeys.ChangePassword)</MudText>
            </CardHeaderContent>
        </MudCardHeader>
        <MudCardContent>
            <MudGrid>
                <MudItem xs="12" md="6">
                    <MudTextField @bind-Value="_passwordRequest.NewPassword" For="() => _passwordRequest.NewPassword"
                                  Label="@Localize(LocalizeKeys.NewPassword)" InputType="InputType.Password" Variant="Variant.Outlined" />
                </MudItem>
                <MudItem xs="12" md="6">
                    <MudTextField @bind-Value="_passwordRequest.ConfirmNewPassword" For="() => _passwordRequest.ConfirmNewPassword"
                                  Label="@Localize(LocalizeKeys.ConfirmNewPassword)" InputType="InputType.Password" Variant="Variant.Outlined" />
                </MudItem>
                <MudItem xs="12">
                    <MudTextField @bind-Value="_passwordRequest.OldPassword" For="() => _passwordRequest.OldPassword"
                                  Label="@Localize(LocalizeKeys.OldPassword)" InputType="InputType.Password" Variant="Variant.Outlined" />
                </MudItem>
            </MudGrid>
        </MudCardContent>
        <MudCardActions Class="pb-4 pl-4">
            <MudButton Variant="Variant.Filled" Color="Color.Primary" Disabled="@_busy"
                       ButtonType="ButtonType.Submit" Class="ml-auto">
                @if (_busy)
                {
                    <MudProgressCircular Indeterminate="true" Color="Color.Primary" Size="Size.Medium">
                    </MudProgressCircular>
                }
                else
                {
                    @Localize(LocalizeKeys.Change)
                }
            </MudButton>
        </MudCardActions>
    </MudCard>
</EditForm>